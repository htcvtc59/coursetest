<!DOCTYPE html>
{% load static from staticfiles %}
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="icon" href="{% static 'icon/favicon.ico' %}">
    <title>
        {% block title %}

        {% endblock %}
    </title>

    <!-- Bootstrap core CSS-->
    <link href="{% static 'assest/adminsb/vendor/bootstrap/css/bootstrap.min.css' %}" rel="stylesheet">
    <!-- Custom fonts for this template-->
    <link href="{% static 'assest/adminsb/vendor/font-awesome/css/font-awesome.min.css' %}" rel="stylesheet"
          type="text/css">
    <!-- Page level plugin CSS-->
    <link href="{% static 'assest/adminsb/vendor/datatables/dataTables.bootstrap4.css' %}" rel="stylesheet">


    <!-- multiselect vuejs -->
    <link href="{% static 'vue/vuemultiselect/vue-multiselect.min.css' %}" rel="stylesheet">

    <link href="{% static 'assest/vendor/shop-item.css' %}" rel="stylesheet">


</head>
<body>

<!-- Bootstrap core JavaScript-->
<script src="{% static 'assest/adminsb/vendor/jquery/jquery.min.js' %}"></script>
<script src="{% static 'assest/bootstrap/js/popper.min.js' %}"></script>
<script src="{% static 'assest/adminsb/vendor/bootstrap/js/bootstrap.bundle.min.js' %}"></script>

<!-- Page level plugin JavaScript-->
<script src="{% static 'assest/adminsb/vendor/datatables/jquery.dataTables.js' %}"></script>
<script src="{% static 'assest/adminsb/vendor/datatables/dataTables.bootstrap4.js' %}"></script>


<!-- Custom scripts for this page-->
<script src="{% static 'assest/adminsb/js/sb-admin-datatables.js' %}"></script>

<!-- import vuejs -->
<script src="{% static 'vue/vue.js' %}"></script>
<script src="{% static 'bootstrap/js/polyfill.min.js' %}"></script>
<script src="{% static 'bootstrap/js/bootstrap-vue.min.js' %}"></script>
<script src="{% static 'axios/axios.min.js' %}"></script>


<!-- import vuemultiselect -->
<script src="{% static 'vue/vuemultiselect/vue-multiselect.min.js' %}"></script>
<!-- import moment -->
<script src="{% static 'assest/datepicker/moment.js' %}"></script>


<!-- Navigation -->
<nav class="navbar navbar-expand-lg navbar-dark bg-dark fixed-top">
    <div class="container">
        <a class="navbar-brand" href="#">
            {% if 'username' in request.session %}
                Xin chào {{ request.session.username }}
            {% else %}

            {% endif %}</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive"
                aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarResponsive">
            <ul class="navbar-nav ml-auto">
                <li class="nav-item active">

                </li>
                <li class="nav-item" id="subpageusersappsignout">
                    {% if 'username' in request.session %}
                        <a class="nav-link" href="#" @click="onSignout">Đăng xuất</a>
                    {% else %}

                    {% endif %}
                </li>
            </ul>
        </div>
    </div>
</nav>

<!-- Page Content -->
{% block usersapp %}
{% endblock %}
<!-- /.container -->

<!-- Footer -->
<footer class="py-5 bg-dark">
    <div class="container">
        <p class="m-0 text-center text-white">Copyright &copy;</p>
    </div>
    <!-- /.container -->
</footer>

<script>
    new Vue({
        delimiter: ['${', '}'],
        el: '#subpageusersappsignout',
        data() {
            return {}
        },
        methods: {
            onSignout(evt) {
                evt.preventDefault();

                axios({
                    method: 'post',
                    url: '/app/session/',
                    data: '',
                    xsrfCookieName: 'csrftoken',
                    xsrfHeaderName: 'X-CSRFToken',
                    headers: {
                        'X-Requested-With': 'XMLHttpRequest',
                        'Content-Type': 'application/x-www-form-urlencoded; charset=UTF-8'
                    },
                }).then(function (response) {

                });
                window.location.href = '/';
            },


        },


    })


</script>


</body>
</html>